
var found_lat="";var found_long="";function wpestate_placeidx(b,j){if(wp_estate_kind_of_map===2){return}var p=null;var k=0;var o=null;var l=null;var n;if(typeof(dsidx)!=="object"){return}if(typeof(dsidx.dataSets)==="undefined"){return}var m=null;var c=null;var h={coord:[1,1,1,38,38,59,59,1],type:"poly"};for(m in dsidx.dataSets){c=m}if(c===null){return}var d=gmarkers.length;var a=dsidx.dataSets[c].length;for(var g=0;g<a;g++){var f=new google.maps.LatLng(dsidx.dataSets[c][g].Latitude,dsidx.dataSets[c][g].Longitude);if(dsidx.dataSets[c][g].ShortDescription!==undefined){l=dsidx.dataSets[c][g].ShortDescription;o=l.split(",");l=o[0]+", "+o[1]}else{l=dsidx.dataSets[c][g].Address+", "+dsidx.dataSets[c][g].City}if(found_lat===dsidx.dataSets[c][g].Latitude&&found_long===dsidx.dataSets[c][g].Longitude){n=g+d}var e=new google.maps.Marker({position:f,map:b,icon:wpestate_custompin("idxpin"),shape:h,title:l,zIndex:g,image:dsidx.dataSets[c][g].PhotoUriBase+dsidx.dataSets[c][g].PhotoFileName,price:dsidx.dataSets[c][g].Price,type:dsidx.dataSets[c][g].BedsShortString,type2:dsidx.dataSets[c][g].BathsShortString,link:dsidx.dataSets[c][g].PrettyUriForUrl,infoWindowIndex:g,rooms:dsidx.dataSets[c][g].BedsShortString,baths:dsidx.dataSets[c][g].BathsShortString,});gmarkers.push(e);google.maps.event.addListener(e,"click",function(){wpestate_new_open_close_map(1);infoBox.setContent('<div class="info_details info_idx "><span id="infocloser" onClick=\'javascript:infoBox.close();\' ></span><div class=""><a href="/idx/'+this.link+'"><img src="'+this.image+'" ></a></div><a href="/idx/'+this.link+'" id="infobox_title" class="idx-title">'+this.title+'</a><div class="prop_details"><span id="info_inside">'+this.type+" / "+this.type2+' <span><span class="idx-price"> - '+this.price+"</span></div>");infoBox.open(b,this);b.setCenter(this.position);switch(infobox_width){case 700:if(mapfunctions_vars.listing_map==="top"){b.panBy(100,-150)}else{b.panBy(10,-110)}vertical_off=0;break;case 500:b.panBy(210,0);break;case 400:b.panBy(100,-220);break;case 200:b.panBy(20,-170);break}if(control_vars.show_adv_search_map_close==="no"){$(".search_wrapper").addClass("adv1_close");wpestate_adv_search_click()}wpestate_close_adv_search()})}google.maps.event.trigger(gmarkers[n],"click")}if(typeof(dsidx.details.latitude)!=="undefined"&&typeof(dsidx.details.longitude)!=="undefined"){found_lat=dsidx.details.latitude;found_long=dsidx.details.longitude};