
var sliderTimerScroll;var sliderAjaxDelayScroll=400;var with_clear=1;function wpestate_increase_pagination(){var a=parseInt(jQuery("#property_dir_pagination").val());a=a+1;jQuery("#property_dir_pagination").val(a);wpestate_directory_filtering()}jQuery(document).ready(function(){jQuery("#directory_load_more").on("click",function(b){var a=parseInt(jQuery("#property_dir_done").val());if(a===0){with_clear=0;wpestate_increase_pagination()}else{}});jQuery("#slider_price_widget").slider({change:function(a,b){wpestate_directory_filtering()}});jQuery("#slider_property_size_widget").slider({range:true,min:parseFloat(directory_vars.dir_min_size),max:parseFloat(directory_vars.dir_max_size),values:[directory_vars.dir_min_size,directory_vars.dir_max_size],slide:function(a,b){jQuery("#property_size_low").val(b.values[0]);jQuery("#property_size_max").val(b.values[1]);jQuery("#property_size").html(b.values[0]+" "+directory_vars.measures_sys+" "+control_vars.to+" "+b.values[1]+" "+directory_vars.measures_sys);wpestate_directory_filtering()}});jQuery("#slider_property_lot_size_widget").slider({range:true,min:parseFloat(directory_vars.dir_min_lot_size),max:parseFloat(directory_vars.dir_max_lot_size),values:[directory_vars.dir_min_lot_size,directory_vars.dir_max_lot_size],slide:function(a,b){jQuery("#property_lot_size_low").val(b.values[0]);jQuery("#property_lot_size_max").val(b.values[1]);jQuery("#property_lot_size").html(b.values[0]+" "+directory_vars.measures_sys+" "+control_vars.to+" "+b.values[1]+" "+directory_vars.measures_sys);wpestate_directory_filtering()}});jQuery("#slider_property_rooms_widget").slider({range:true,min:parseFloat(directory_vars.dir_rooms_min),max:parseFloat(directory_vars.dir_rooms_max),values:[directory_vars.dir_rooms_min,directory_vars.dir_rooms_max],slide:function(a,b){jQuery("#property_rooms_low").val(b.values[0]);jQuery("#property_rooms_max").val(b.values[1]);jQuery("#property_rooms").text(b.values[0]+" "+control_vars.to+" "+b.values[1]);wpestate_directory_filtering()}});jQuery("#slider_property_bedrooms_widget").slider({range:true,min:parseFloat(directory_vars.dir_bedrooms_min),max:parseFloat(directory_vars.dir_bedrooms_max),values:[directory_vars.dir_bedrooms_min,directory_vars.dir_bedrooms_max],slide:function(a,b){jQuery("#property_bedrooms_low").val(b.values[0]);jQuery("#property_bedrooms_max").val(b.values[1]);jQuery("#property_bedrooms").text(b.values[0]+" "+control_vars.to+" "+b.values[1]);wpestate_directory_filtering()}});jQuery("#slider_property_bathrooms_widget").slider({range:true,min:parseFloat(directory_vars.dir_bedrooms_min),max:parseFloat(directory_vars.dir_bedrooms_max),values:[directory_vars.dir_bedrooms_min,directory_vars.dir_bedrooms_max],slide:function(a,b){jQuery("#property_bathrooms_low").val(b.values[0]);jQuery("#property_bathrooms_max").val(b.values[1]);jQuery("#property_bathrooms").text(b.values[0]+" "+control_vars.to+" "+b.values[1]);wpestate_directory_filtering()}});jQuery('.extended_search_check_wrapper_directory input[type="checkbox"]').on("click",function(a){wpestate_directory_filtering()});jQuery(".listing_filters_head_directory li").on("click",function(c){var b,d,a;b=jQuery(this).text();d=jQuery(this).attr("data-value");a=jQuery(this).parent().parent();a.find(".filter_menu_trigger").text(b).append('<span class="caret caret_filter"></span>').attr("data-value",d);a.find("input:hidden").val(d);wpestate_directory_filtering()});jQuery(".directory_sidebar  li").on("click",function(a){wpestate_directory_filtering()});jQuery("#property_status,#property_keyword").on("change",function(){wpestate_directory_filtering()})});var sliderTimer;var sliderAjaxDelay=500;function wpestate_directory_filtering(){if(sliderTimer){clearTimeout(sliderTimer)}sliderTimer=setTimeout(wpestate_directory_filtering_action,sliderAjaxDelay)}function wpestate_directory_filtering_action(){with_clear=parseInt(with_clear);if(parseInt(with_clear)==1){jQuery("#property_dir_pagination").val("1");jQuery("#property_dir_done").val("0");jQuery("#directory_load_more").removeClass("no_more_list")}var l=ajaxcalls_vars.admin_url+"admin-ajax.php";var b=parseFloat(jQuery("#adv-search-1").attr("data-postid"),10);var o=jQuery("#sidebar-adv_actions").attr("data-value");var n=jQuery("#sidebar-adv_categ").attr("data-value");var q=jQuery("#sidebar-advanced_city").attr("data-value");var v=jQuery("#sidebar-advanced_area").attr("data-value");var r=jQuery("#sidebar-advanced_county").attr("data-value");var f=parseFloat(jQuery("#price_low_widget").val(),10);var d=parseFloat(jQuery("#price_max_widget").val(),10);var w=parseFloat(jQuery("#property_size_low").val(),10);var a=parseFloat(jQuery("#property_size_max").val(),10);var e=parseFloat(jQuery("#property_lot_size_low").val(),10);var y=parseFloat(jQuery("#property_lot_size_max").val(),10);var s=parseFloat(jQuery("#property_rooms_low").val(),10);var k=parseFloat(jQuery("#property_rooms_max").val(),10);var j=parseFloat(jQuery("#property_bedrooms_low").val(),10);var c=parseFloat(jQuery("#property_bedrooms_max").val(),10);var h=parseFloat(jQuery("#property_bathrooms_low").val(),10);var g=parseFloat(jQuery("#property_bathrooms_max").val(),10);var m=jQuery("#property_status").val();var x=jQuery("#property_keyword").val();var p=jQuery("#a_filter_order_directory").attr("data-value");var t=jQuery("#property_dir_pagination").val();var i="";jQuery('.extended_search_check_wrapper_directory  input[type="checkbox"]').each(function(){if(jQuery(this).is(":checked")){i=i+","+jQuery(this).attr("name-title")}});if(parseInt(with_clear)==1){jQuery("#listing_ajax_container").empty()}jQuery(".pagination_nojax").hide();jQuery("#listing_loader").show();var u=jQuery("#wpestate_ajax_filtering").val();jQuery.ajax({type:"POST",url:l,dataType:"json",data:{action:"wpestate_classic_ondemand_directory",action_values:o,category_values:n,city:q,area:v,county:r,price_low:f,price_max:d,postid:b,min_size:w,max_size:a,min_lot_size:e,max_lot_size:y,min_rooms:s,max_rooms:k,min_bedrooms:j,max_bedrooms:c,min_bathrooms:h,max_bathrooms:g,status:m,keyword:x,all_checkers:i,order:p,pagination:t,security:u},success:function(B){var A=parseInt(B.no_results);var z=parseInt(jQuery("#property_dir_per_page").val());if(A!==0){jQuery("#listing_ajax_container").append(B.cards);if(A<=z){jQuery("#property_dir_done").val("1");jQuery("#directory_load_more").text(directory_vars.no_more).addClass("no_more_list")}}else{jQuery("#property_dir_done").val("1");jQuery("#directory_load_more").text(directory_vars.no_more).addClass("no_more_list")}jQuery("#listing_loader").hide();wpestate_restart_js_after_ajax();with_clear=1},error:function(z){}})};